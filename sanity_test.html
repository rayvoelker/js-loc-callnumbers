<!DOCTYPE html>
<html>
<head>
	<link href='http://fonts.googleapis.com/css?family=Droid+Sans+Mono' rel='stylesheet' type='text/css'>
	<script type="text/javascript" src="./locCallClass.js"></script>
	<meta charset="utf-8">
	<title>sanity test on pre-sorted call numbers</title>
	<style>
		body {
			font-family: 'Droid Sans Mono', monospace, Monaco;
			white-space: nowrap;
		}
		pre {
			font-family: 'Droid Sans Mono', monospace, Monaco;
			
		}
	</style>
</head>

<body style="font-family:monospace;">
	
	<p>
		"Sanity Check" order of pre-sorted call numbers against this scripts normalization function: 
		<br /> one call number per line (script assumes "range start" on odd lines, "range end" on even lines)
	</p>
	<textarea rows="10" cols="100" id="call_number_input"></textarea>
	<div class="process_button"><button type="button" onClick="processCallNumbers()">Process Callnumbers</button></div>
	
	<br />
	
	<div id="test_data_buttons">
		<script>
			var test_data1_values = ["CB3 .C55", "CS418 .J82", "CS425 .B95", "D21 .W93", "D21.1.D58 1981", "D761 .W54", "D761.9.F7 G8", "DA86 .P884", "DA86 .R52", "DA506.A2 A4", "DA506.A2 B75", "DA784.5 .M23 1989", "DA785 .S12", "DC129 .W6", "DC130.A2 H3", "DF623 .C46", "DF631 .B313", "DK 267 .W78", "DK268.A1D56213 1999", "DS 70.7 .O6", "DS 70.7 .S27", "DS557.C28S6", "DS 557 .F3", "DS 917 .W47", "DS 917.35 .P33", "DT 636 .S5 A3", "DT636.2.F65 1996", "E 160 .F72", "E 160 .F73", "E184.A1I444 1992", "E184.A1I445 1996", "E 302 .J442 1984", "E302.J442 2004B", "E 487 .C746", "E 487 .C746 1966", "E 876 .U84 1986", "E 876 .V53", "F548.9.N4R437 2005", "F548.9.N4S77 2007", "F 1656 .C7 1968", "F 1659 .B55 F4", "GN 51 .A58", "GN 51 .A58 1988B", "GV 741 .B56", "GV741 .I58", "Q183.9.I34 2002", "Q183.9.L45 1993", "QA 29 .P775 A3 1987", "QA29.R3A4 1995", "QA 76.758 .H86 1989", "QA76.758.K365 2008", "QA 164 .C63 1969", "QA 164 .C63 1969", "QA274.73.R84 2004", "QA274.73.S2813 1999", "QA 353 .E5 Z4313 1993", "QA 353 .G44 W55 1990", "QA 640.7 .B55 1970", "QA641.A587 1996", "QC 173.98 .M44 V.1", "QC 173.98 .M44 V.1", "QD 21 .C51", "QD 21 .C51", "QD501 .B242 V.37", "QD501.B242 V.38", "QH 81 .B73", "QH 81 .B754", "QH540.I5", "QH540.I5", "QK 314 .F54", "QK 321 .A3613", "QL951 .C8", "QL951 .C8", "QP 601 .C733 V.171", "QP 601 .C733 V.172", "RA 410.7 .C5", "RA 410.7 .E73", "RC455.S8 1961", "RC 455 .S928", "RD 98 .G38", "RD 99 .E42 1955", "S 942 .C6 1974", "S 942 .K63 1972", "TA166.W68 1980", "TA167.A965 1998", "TA1520.S87 2007", "TA1520.W35 1998", "TD 741 .I33", "TD 741 .I33 1956", "TJ163.2 .A55", "TJ163.2 .A55", "TK5105.875.I57G723 2005", "TK5105.875.I57H338 1996", "TL215.J58L35 2005", "TL215.M18D53 2005", "TP155.C69 V.5 1997", "TP 155 .C74 1986", "TS156 .I838 2003", "TS 156 .J324", "TX950.56.P69 1998"];
		</script>
		<button type="button" onClick="load_test_values(test_data1_values)">Load Callnumbers For rc4</button>
		
		<script>
			var test_data2_values = ["H 1 .E77","HB 74 .M3 A38","HB 74 .M3 A4 1963","HB 851 .C45","HB 851 .C49 1991","HC260.D4L36 2012","HC260.E5E355 2007","HD58.7 .T735","HD58.7 .T735","HD 5325 .R2 L7","HD 5325 .R3 M3","HD9715.9.E434O854 2001","HD 9717.5 .R6 N48","HF 5387 .P75","HF5387.Q47 2005","HF5549.5 .M5 G37 1998","HF5549.5.M5G46 2006","HG 186 .R8 H8","HG186.S6 O37","HJ 9993 .K49","HM 1 .A76","HM881.M674 2009","HM881.N49 2009","HQ 75.5 .L445 1987","HQ75.5.M37 1996","HQ792.U5O77 2009","HQ 792 .U5 P29","HQ 1438 .A13 A32 1983","HQ 1438 .A13 F45","HV 699 .N35 1979","HV 699 .N38 1971","HV6534.C4L47 2007","HV 6534 .C55 B4","HX 36 .S37","HX 36 .S8","P121.N86 2007","P 121 .O7","PA 6484 .S57","PA 6497 .L7 E5","PE 1505 .W87","PE 1505 .Y6","PJ 7826 .I2 A23","PJ 7826 .I2 A233","PN710 .L58 1986","PN710 .L9","PN1995.9.P5I45 2007","PN1995.9.P5M87 1999","PN2266.5.M37 1996","PN2266.5 .S5 1988","PN3411 .W56","PN3426.L37 W44 1984","PN4855.D64 2002","PN4855 .E6 1978","PN6071.S92 S6","PN6071.W35 H4","PQ 155 .S9 B3","PQ 155 .W6 D6","PQ1997.G6 1836","PQ 1997 .G6 1929","PQ 2391 .C2","PQ 2391 .C374","PQ 2631 .A95 F43","PQ 2631 .E21 S4","PQ 4582 .E5 A348","PQ 4582 .E5 A353","PQ 6366 .A2 1931","PQ 6366 .A2 1938","PR99.P57 1992","PR 99 .P89","PR 926 .M35 1987","PR 926 .W5","PR 2343 .B87 1964","PR 2343 .B87 1987","PR 3386 .R539","PR 3386 .R65","PR 4235 .K44","PR 4238 .B329","PR 5013 .A43","PR 5013 .C8","PR 6003 .O6977 L8","PR6003.R118B73 1976","PR 6031 .I525 H6","PR 6031 .I53 Z5","PS153.I52I84 1999","PS153.I52K38 2005","PS634 .H36","PS634 .H64","PS2107 .R3 1929","PS2107 .S2","PS3503.U198 A6","PS3503.U198 C7","PS3511.I744 M9","PS3511.I744 T1","PS3523.I58 E8","PS3523.I58 G46 1916","PS3545.A748 C5","PS3545.A748C6 1962","PS3563.E8 G3","PS3563.E83 1996","PT 1819 .B6 Z66","PT 1819 .B6 Z68","PT 2621 .I76 W63","PT 2621 .L8 A6 1966","PZ 90 .L3 B38 1987"];
		</script>
		<button type="button" onClick="load_test_values(test_data2_values)">Load Callnumbers For rc5</button>
	
		<script>
			var test_data3_values = ["A131.M67 1991", "B395 .G144", "B395 .G15", "B945.S23 O2", "B945.S23 P4", "B3312 .A2 1967", "B3312 .E5", "BD632 .A413", "BD632.B35 2010", "BF176 .H35 1990", "BF176.H36 2001", "BF575.A3 S37 1975", "BF575.A3 S4313", "BF698.8.M5 L3", "BF698.8.M5 M2", "BJ1401.K44 2002", "BJ1401.K73 2007", "BL626.4.C64 2013", "BL626.5.B37 2007", "BP605.P46M66 2009", "BP605.P46 N83 1979", "BR162 .R6 1857", "BR162 .R6 1857", "BS410.V452 V.46", "BS410.V452 V.47", "BS1199.B3 K57", "BS1199.B3S55 2002", "BS2575.3.L8913 1989", "BS2575.3.M4 1966", "BT121.2.B57 2000", "BT121.2 .B77", "BT810.2 .H46 1989", "BT810.2 .H58", "BV4011.4.H64 2005", "BV4011.5 .B38 1990", "BX850 .M5 1911", "BX850 .M67", "BX1535 .B5", "BX1535 .B5", "BX1805 .M55", "BX1805.N94 2012", "BX2230 .G45 1897", "BX2230 .G5", "BX4654 .J33 1948", "BX4654 .J334 1969", "BX5131 .N5", "BX5131 .N5", "J 80 .A33", "J 80 .A33", "JC 328.3 .S47", "JC 328.3 .S5", "JK 39 .W5 ", "JK 49 .K38", "JK 2249 .A73", "JK 2249 .B46", "JQ 1618 .I26", "JQ 1618 .I39 1972", "JX 638 .M666", "JX 638 .M666", "KBG .A2", "KBG .A2", "KF 4502 .D635 1989", "KF 4502 .F68", "KF 9219.3 .I52", "KF 9219.3 .I53", "L 13 .N4", "L 13 .N4", "LA 2317 .B3 H3", "LA 2317 .B5 A3", "LB1050.6.S48 2007", "LB1050.6.T38 1998", "LB1707.Z45 2009", "LB 1715 .A242", "LB 2826 .N6 W5 1968", "LB 2826 .N7 A6", "LC15.B35 2002", "LC 31 .A5", "LC473 .M33", "LC 473 .M34", "LC 4661 .K65", "LC 4661 .K84", "ML100.N48 2001", "ML100.N48 2001", "ML420.L772A3 1997", "ML420.L865L6 1987", "MT 262 .B15313 1991", "MT 262 .F56 M2", "N6538.N5J666 2011", "N6538.N5K57 2007", "NA 737 .W44 H8", "NA 737 .W7 A3", "ND237.C35 M3", "ND 237 .C35 M54", "NE 850 .G37 1986", "NE850.H84 2008", "UB 343 .M27", "UB 343 .S43", "Z5818.L3S64 1998", "Z 5819 .M37", "ZA5110.G37 2009"];
		</script>
		<button type="button" onClick="load_test_values(test_data3_values)">Load Callnumbers For rc6</button>
	
	</div>
	
	<br />
	
	<pre>
	<div id="result_output">
		
	</div>
	</pre>
	
	<script>
		
		var loc = new locCallClass();
		
		function processCallNumbers() {
			
			var input = document.getElementById('call_number_input').value.split(/\n/);
			var output = document.getElementById('result_output');
			
			//test the sort order of the array
			
			var sorted = true;
			
			output.innerHTML = "<pre>";

			for (var i=0; i<input.length - 1; i++) {
				
				output.innerHTML += input[i] + "<br />" + input[i+1] + "<br />";
				
				// returnNormLcCall could return an error
				try {
					output.innerHTML += loc.returnNormLcCall(input[i]) + "<br />" + loc.returnNormLcCall(input[i+1]) + "<br /><br />";
				
					if (loc.returnNormLcCall(input[i]) > loc.returnNormLcCall(input[i+1])) {
						sorted = false;
						alert (loc.returnNormLcCall(input[i]) + " > " + loc.returnNormLcCall(input[i+1]) );
						break;
					}
				}
				catch(err) {
					console.log(input[i+1] + " is not a call number");
				}
				
				
			}
			
			alert('sorted? ' + sorted);
			
		}
		
		function load_test_values(array_to_load) {
			
			var call_number_input = document.getElementById('call_number_input');
			call_number_input.value = "";
			
			for (var i=0; i<array_to_load.length; i++) {
				call_number_input.value += array_to_load[i] + "\n";
			}
			call_number_input.value = call_number_input.value.trim();
			
		}
			
	</script>
	
</body>

</html>
